{
 "accept_payment": 0,
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 1,
 "allow_incomplete": 0,
 "allow_multiple": 1,
 "allow_print": 0,
 "amount": 0.0,
 "amount_based_on_field": 0,
 "apply_document_permissions": 0,
 "button_label": "Submit",
 "client_script": "value = frappe.full_name\n//console.log(value);\n\nfrappe.web_form.set_value(\"customer\", value)\n\n//cur_frm.add_fetch('customer',  'project',  'project');\n\n// for getting project name\nfrappe.web_form.on('customer', (field, value) => {\nvar myurl = 'https://pms.cas.com.np/api/resource/Project?fields=[\"project_name\",\"name\"]&filters=[[\"customer\",\"=\",\"'+value+'\"]]';\n$.ajax({\n\ttype: 'GET', \n\turl: myurl,\n\tsuccess: function(result) {\n\t\n\t\tvar options = [];\n\t\tfor (var i = 0; i < result.data.length; i++) {\n\t\t\toptions.push({\n\t\t\t\t'label': result.data[i].project_name,\n\t\t\t\t\n\t\t\t\t'value': result.data[i].name\n\t\t\t\t\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t}\n\t\tconsole.log(options);\n\t\tvar field = frappe.web_form.get_field(\"project_name\");\n\t\t\tfield._data = options;\n\t\t\tfield.refresh();\n\t\t\t\n\t\t\n\t}\n});\n});\n\n//for getting process name\nfrappe.web_form.on('project_name', (field, value) => {\n\nvar myurl = 'https://pms.cas.com.np/api/resource/Process Name?fields=[\"process_name\"]&filters=[[\"project_name\",\"=\",\"'+value+'\"]]';\n$.ajax({\n\ttype: 'GET', \n\turl: myurl,\n\tsuccess: function(result) {\n\t\n\t\tvar options = [];\n\t\tfor (var i = 0; i < result.data.length; i++) {\n\t\t\toptions.push({\n\t\t\t\t'label': result.data[i].process_name,\n\t\t\t\t'value': result.data[i].process_name\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t}\n\t\tvar field = frappe.web_form.get_field(\"process_name\");\n\t\t\tfield._data = options;\n\t\t\tfield.refresh();\n\t\t\t\n\t\t\n\t}\n});\n});\n\nfrappe.web_form.after_save = () => {\n    window.location.href = \"/customer-issue-portal\";\n  }",
 "creation": "2023-02-08 15:59:11.659719",
 "currency": "NPR",
 "doc_type": "Customer Issue Registration",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "<div class=\"ql-editor read-mode\"><p><strong>Welcome to CAS Helpdesk Portal.\ufeff</strong></p></div>",
 "is_multi_step_form": 0,
 "is_standard": 1,
 "login_required": 1,
 "max_attachment_size": 20,
 "modified": "2023-02-13 10:51:39.015745",
 "modified_by": "neeraj.regmi@cas.com.np",
 "module": "Ticketing",
 "name": "customer-issue-portal",
 "owner": "neeraj.regmi@cas.com.np",
 "payment_button_label": "Buy Now",
 "published": 1,
 "route": "customer-issue-portal",
 "route_to_success_link": 1,
 "show_attachments": 0,
 "show_in_grid": 1,
 "show_sidebar": 1,
 "sidebar_items": [
  {
   "enabled": 1,
   "route": "customer-issue-portal",
   "title": "Customer Issue Portal"
  }
 ],
 "success_message": "successfully submitted.",
 "success_url": "/customer-issue-portal",
 "title": "Customer Issue Portal",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "customer",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Customer",
   "max_length": 0,
   "max_value": 0,
   "options": "Customer",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "project_name",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Project Name",
   "max_length": 0,
   "max_value": 0,
   "options": "Project",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "problem_type",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Problem Type",
   "max_length": 0,
   "max_value": 0,
   "options": "\nDefect\nPerformance Issue\nQuerry\nRequirement",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "environment",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Environment",
   "max_length": 0,
   "max_value": 0,
   "options": "\nUAT\nProduction\nDevelopment",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "issue_category1",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Issue Category",
   "max_length": 0,
   "max_value": 0,
   "options": "\nSoftware Issue\nHardware Issue",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "process_name",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Process Name",
   "max_length": 0,
   "max_value": 0,
   "options": "Process Name",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "issue_type1",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Issue Type",
   "max_length": 0,
   "max_value": 0,
   "options": "Process Related Issue\nMDM\nBRMS\nForm Issue\nAPI Issue\nCustom Code",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "Open",
   "fieldname": "status",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Status",
   "max_length": 0,
   "max_value": 0,
   "options": "Open\nReplied\nOn Hold\nResolved\nClosed\nTransfer\nPAM Request",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "Medium",
   "fieldname": "priority",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Priority",
   "max_length": 0,
   "max_value": 0,
   "options": "Low\nMedium\nHigh",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "subject",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Issue Title",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "description",
   "fieldtype": "Text Editor",
   "hidden": 0,
   "label": "Description",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "description": "( Note: For multiple file uploads, place all the files in one folder, zip it, and upload. )",
   "fieldname": "attachments",
   "fieldtype": "Attach",
   "hidden": 0,
   "label": "Attachments",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}